# Migration `20201125134317-added-article-tag`

This migration has been generated by Martin Sosic at 11/25/2020, 2:43:17 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "ArticleTag" (
    "name" TEXT NOT NULL,
    PRIMARY KEY ("name")
)

CREATE TABLE "_ArticleToArticleTag" (
    "A" INTEGER NOT NULL,
    "B" TEXT NOT NULL,

    FOREIGN KEY ("A") REFERENCES "Article"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "ArticleTag"("name") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE UNIQUE INDEX "_ArticleToArticleTag_AB_unique" ON "_ArticleToArticleTag"("A", "B")

CREATE INDEX "_ArticleToArticleTag_B_index" ON "_ArticleToArticleTag"("B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201124212222-added-comment..20201125134317-added-article-tag
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -25,28 +25,31 @@
     id              Int      @id @default(autoincrement())
     slug            String   @unique
     createdAt       DateTime @default(now())
     updatedAt       DateTime @updatedAt
-
     title           String
     description     String
     markdownContent String
     user            User     @relation(fields: [userId], references: [id])
     userId          Int
-
     comments        Comment[]
+    tags            ArticleTag[]
 }
 model Comment {
     id              Int      @id @default(autoincrement())
     createdAt       DateTime @default(now())
-
     content         String
     user            User     @relation(fields: [userId], references: [id])
     userId          Int
-
     article         Article  @relation(fields: [articleId], references: [id])
     articleId       Int
 }
+model ArticleTag {
+    name          String    @id
+
+    articles      Article[]
+}
+
```


