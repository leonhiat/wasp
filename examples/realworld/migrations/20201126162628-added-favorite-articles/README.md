# Migration `20201126162628-added-favorite-articles`

This migration has been generated by Martin Sosic at 11/26/2020, 5:26:28 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "_FavoritedArticles" (
    "A" INTEGER NOT NULL,
    "B" INTEGER NOT NULL,

    FOREIGN KEY ("A") REFERENCES "Article"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE UNIQUE INDEX "_FavoritedArticles_AB_unique" ON "_FavoritedArticles"("A", "B")

CREATE INDEX "_FavoritedArticles_B_index" ON "_FavoritedArticles"("B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201125134317-added-article-tag..20201126162628-added-favorite-articles
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -18,8 +18,9 @@
     profilePictureUrl String?
     articles          Article[]
     comments          Comment[]
+    favoriteArticles  Article[] @relation("FavoritedArticles")
 }
 model Article {
     id              Int      @id @default(autoincrement())
@@ -33,8 +34,9 @@
     user            User     @relation(fields: [userId], references: [id])
     userId          Int
     comments        Comment[]
     tags            ArticleTag[]
+    favoritedBy     User[]   @relation("FavoritedArticles")
 }
 model Comment {
     id              Int      @id @default(autoincrement())
```


