# Migration `20201124192901-added-created-at-to-article`

This migration has been generated by Martin Sosic at 11/24/2020, 8:29:01 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Article" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "title" TEXT NOT NULL,
    "description" TEXT NOT NULL,
    "markdownContent" TEXT NOT NULL,
    "userId" INTEGER NOT NULL,

    FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO "new_Article" ("id", "title", "description", "markdownContent", "userId") SELECT "id", "title", "description", "markdownContent", "userId" FROM "Article";
DROP TABLE "Article";
ALTER TABLE "new_Article" RENAME TO "Article";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201119144622-added-article-entity..20201124192901-added-created-at-to-article
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -19,12 +19,13 @@
     articles    Article[]
 }
 model Article {
-    id          Int     @id @default(autoincrement())
-    title       String
-    description String
-    markdownContent     String
-    user        User    @relation(fields: [userId], references: [id])
-    userId      Int
+    id              Int      @id @default(autoincrement())
+    createdAt       DateTime @default(now())
+    title           String
+    description     String
+    markdownContent String
+    user            User     @relation(fields: [userId], references: [id])
+    userId          Int
 }
```


